{"version":3,"sources":["contexts/CurrentUserContext.js","images/Logo.svg","components/Header.js","components/Footer.js","components/Card.js","components/Main.js","utils/Api.js","components/Login.js","components/Register.js","images/successfully.svg","images/unsuccessfully.svg","components/InfoTooltip.js","components/ProtectedRoute.js","utils/Auth.js","components/ImagePopup.js","components/PopupWithForm.js","components/DeleteCardPopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","createContext","Header","props","console","log","className","src","logo","alt","currentRoute","to","Footer","Card","currentUser","useContext","isOwn","data","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDelete","href","onCardClick","link","name","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","card","api","baseUrl","headers","this","fetch","then","_checkError","method","body","JSON","stringify","element","id","res","ok","json","Promise","reject","status","authorization","Login","setCurrentRoute","onLogin","loggedIn","useState","email","password","loginData","setLoginData","handleChangeLoginData","evt","target","value","useEffect","onSubmit","preventDefault","placeholder","minLength","maxLength","required","onChange","Register","onRegister","onInfoTooltip","registerData","setRegisterData","handleChangeRegisterData","InfoTooltip","isOpen","onClose","registrationСompleted","successfully","unsuccessfully","ProtectedRoute","children","auth","baseAuthUrl","ImagePopup","PopupWithForm","title","buttonText","DeleteCardPopup","EditProfilePopup","setName","description","setDescription","onUpdateUser","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setTitle","setLink","onAddCard","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isImagePopupOpen","setImagePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isInfoTooltip","setIsInfoTooltip","selectedCard","setSelectedCard","setCurrentUser","setCards","successRegister","setSuccessRegister","getUserInfo","userInfo","catch","err","getInitialCards","cardsInfo","closeAllPopups","handleClosePopup","classList","contains","handleEscClose","keyCode","document","addEventListener","removeEventListener","Provider","path","exact","changeLikeCardStatus","newCard","state","c","deleteCard","filter","register","addAvatar","userAvatar","setUserInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c15f4fbd.chunk.js","sourcesContent":["import { createContext} from \"react\";\r\n\r\nexport const CurrentUserContext = createContext();","export default __webpack_public_path__ + \"static/media/Logo.beaa2c3a.svg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom'; \r\nimport logo from '../images/Logo.svg';\r\n\r\nexport default function Header(props) {\r\nconsole.log(props)\r\n    return (\r\n    <header className=\"header\">\r\n        <div className=\"header__container\">\r\n            <img src={logo} alt=\"Лого\" className=\"header__logo\"/>\r\n            <div className=\"header__box\"> \r\n                <p className=\"header__text\" ></p>\r\n                <>\r\n                    {(props.currentRoute === '/sign-in') ? (\r\n                    <Link\r\n                        to=\"/sign-up\"\r\n                        className=\"header__link\"\r\n                    >\r\n                        Регистрация\r\n                    </Link>\r\n                    ) : (\r\n                    <Link\r\n                        to=\"/sign-in\"\r\n                        className=\"header__link\"\r\n                    >\r\n                        Войти\r\n                    </Link>\r\n                    )}\r\n                </>\r\n            </div>\r\n        </div>\r\n    </header>\r\n)\r\n}","import React from 'react';\r\n\r\nexport default function Footer () {\r\n\r\n    return (\r\n    <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy; 2021 Tikhonov Dmitry</p>\r\n    </footer>\r\n)\r\n}","import { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Card (props) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.data.owner._id === currentUser._id;\r\n\r\n    const cardDeleteButtonClassName = `cell__basket ${\r\n        isOwn ? 'cell__basket_opened' : ''\r\n    }`;\r\n\r\n    const isLiked = props.data.likes.some((i) => i._id === currentUser._id);\r\n\r\n    const cardLikeButtonClassName = `cell__heart ${\r\n        isLiked ? 'cell__heart_black' : ''\r\n    }`;\r\n\r\n    function cardClick () {\r\n        props.onCardClick(props.data);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.data);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.data);\r\n    }\r\n\r\n    return (\r\n        <li className=\"cell\">\r\n        <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"корзина\" onClick={handleDeleteClick}></button>\r\n        <a className=\"cell__image-link\"  href=\"#\" onClick={cardClick}><img className=\"cell__image\" src={props.data.link} alt={props.data.name}/></a>\r\n        <div className=\"cell__info\">\r\n            <h2 className=\"cell__caption\">{props.data.name}</h2>\r\n            <div className=\"cell__like\">\r\n                <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\" aria-label=\"лайк\"></button>\r\n                <p className=\"cell__score-likes\">{props.data.likes.length}</p>\r\n            </div>\r\n        </div>\r\n    </li> \r\n    )\r\n}","import Card from './Card.js';\r\nimport { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nexport default function Main (props) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    return (\r\n    <main className=\"content\">\r\n        <section className=\"profile\">\r\n            <a className=\"profile__image-link\" onClick={props.onEditAvatar}><img className=\"profile__avatar\"  src={currentUser.avatar} alt=\"Аватар\"/></a>\r\n            <div className=\"profile__info\">\r\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                <button className=\"profile__changes-button link-aim\" onClick={props.onEditProfile} type=\"button\" aria-label=\"смена пользователя\"></button>\r\n                <p className=\"profile__profession\">{currentUser.about}</p>\r\n            </div>\r\n            <button className=\"profile__add-button link-aim\" onClick={props.onAddPlace} type=\"button\" aria-label=\"добавить карточку\" ></button>\r\n        </section>\r\n        <section className=\"table\">\r\n            <ul className=\"table__cells\">\r\n            {props.cards.map((card) => (\r\n                <Card \r\n                data={card}\r\n                key={card._id} \r\n                onCardLike={props.onCardLike} \r\n                onCardClick={props.onCardClick}\r\n                onCardDelete={props.onCardDelete}\r\n                />\r\n        ))}\r\n            </ul>\r\n        </section>\r\n    </main>\r\n)\r\n}","class Api {\r\n    constructor({baseUrl, headers}) {\r\n        this.baseUrl = baseUrl;\r\n        this.headers = headers;\r\n    };\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            headers: this.headers\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    setUserInfo(data) {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n            })\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    addAvatar(data) {\r\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this.baseUrl}/cards`, {\r\n            headers: this.headers\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n    \r\n    addCard(element) {\r\n        return fetch(`${this.baseUrl}/cards`, {\r\n            method: 'POST', \r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: element.name,\r\n                link: element.link\r\n            })\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this.baseUrl}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    changeLikeCardStatus(id, isLiked) {\r\n        return fetch(`${this.baseUrl}/cards/likes/${id}`, {\r\n            method: isLiked ? 'PUT' : 'DELETE',\r\n            headers: this.headers,\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    _checkError(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-28',\r\nheaders: {\r\n    authorization: '14d1d8a7-1fa6-4dd5-b9aa-bce836d4ee4b',\r\n    'Content-Type': 'application/json'\r\n}\r\n});\r\n\r\nexport default api ","import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\n\r\n\r\nexport default function Login ({setCurrentRoute,  onLogin, loggedIn}) {\r\n\r\n    const [loginData, setLoginData] = useState({\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n    function handleChangeLoginData(evt) {\r\n        const { name, value } = evt.target;\r\n\r\n        setLoginData({\r\n            ...loginData,\r\n            [name]: value,\r\n        });\r\n        }\r\n\r\n        function handleSubmit(evt) {\r\n            evt.preventDefault();\r\n        \r\n            onLogin({ loginData, setLoginData });\r\n        }\r\n\r\n    useEffect(() => {\r\n        setCurrentRoute('/sign-in');\r\n    }, []);\r\n\r\n\r\n    \r\n        return(\r\n        <div className=\"login\">\r\n            <h2 className=\"login__title\">Вход</h2>\r\n            <form className=\"login__form\" onSubmit={handleSubmit}>\r\n                <label className=\"login__label\">\r\n                    <input className=\"login__input\"\r\n                    type=\"email\" \r\n                    name=\"email\" \r\n                    id=\"email-input\" placeholder=\"Email\" \r\n                    minLength=\"6\" maxLength=\"20\" \r\n                    required\r\n                    value={loginData.email || ''}\r\n                    onChange={handleChangeLoginData}\r\n                    />\r\n                    <span className=\"login__input-error email-input-error form__input-error\"></span>\r\n                </label>\r\n                <label className=\"login__label\">\r\n                    <input className=\"login__input\"\r\n                    type=\"password\" \r\n                    name=\"password\" \r\n                    id=\"password-input\" \r\n                    placeholder=\"Пароль\"  \r\n                    minLength=\"6\" \r\n                    maxLength=\"20\" required\r\n                    value={loginData.password || ''}\r\n                    onChange={handleChangeLoginData}\r\n                    />\r\n                    <span className=\"login__input-error password-input-error form__input-error\"></span>\r\n                </label>\r\n                <button className=\"login__button\" type=\"submit\">Войти</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function Register ({setCurrentRoute, onRegister, onInfoTooltip}) {\r\n\r\n    const [registerData, setRegisterData] = useState({\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n    function handleChangeRegisterData(evt) {\r\n        const { name, value } = evt.target;\r\n    \r\n        setRegisterData({\r\n            ...registerData,\r\n            [name]: value,\r\n        });\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n    \r\n        onRegister({ registerData, setRegisterData });\r\n    }\r\n    \r\n\r\n    useEffect(() => {\r\n        setCurrentRoute('/sign-up');\r\n    }, []);\r\n\r\n        return(\r\n        <div className=\"register\">\r\n            <h2 className=\"register__title\">Регистрация</h2>\r\n            <form className=\"register__form\" onSubmit={handleSubmit}>\r\n                <label className=\"register__label\">\r\n                    <input className=\"register__input\"\r\n                    type=\"email\" \r\n                    name=\"email\"\r\n                    value={registerData.email || ''}\r\n                    onChange={handleChangeRegisterData} \r\n                    id=\"email-input\" placeholder=\"Email\" \r\n                    minLength=\"6\" maxLength=\"20\" \r\n                    required/>\r\n                    <span className=\"register__input-error email-input-error form__input-error\"></span>\r\n                </label>\r\n                <label className=\"register__label\">\r\n                    <input className=\"register__input\"\r\n                    type=\"password\" \r\n                    name=\"password\"\r\n                    value={registerData.password || ''}\r\n                    onChange={handleChangeRegisterData} \r\n                    id=\"password-input\" \r\n                    placeholder=\"Пароль\"  \r\n                    minLength=\"6\" \r\n                    maxLength=\"20\" required/>\r\n                    <span className=\"register__input-error password-input-error form__input-error\"></span>\r\n                </label>\r\n                <button className=\"register__button\" type=\"submit\">Зарегистрироваться</button>\r\n            </form>\r\n            <div className=\"register__box\">\r\n            <p className=\"register__text\" >Уже зарегистрированы?</p>\r\n            <Link className=\"register__link\" to=\"/sign-in\">Войти</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/successfully.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/unsuccessfully.df8eddf6.svg\";","import React from 'react';\r\nimport successfully from '../images/successfully.svg'\r\nimport unsuccessfully from '../images/unsuccessfully.svg'\r\n\r\nexport default function InfoTooltip (props) {\r\n\r\n    return (\r\n        <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}  onClick={props.onClose}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close-icon link-aim\" type=\"button\" aria-label=\"закрыть\" onClick={props.onClose}></button>\r\n                <div className=\"popup__box\">\r\n                    <img\r\n                        src={props.registrationСompleted ? successfully : unsuccessfully}\r\n                        alt={props.registrationСompleted ? \"галочка\" : \"крестик\"}\r\n                        className=\"popup__icon\"\r\n                    />\r\n                    <p className=\"popup__text\">\r\n                        {props.registrationСompleted\r\n                        ? 'Вы успешно зарегистрировались!'\r\n                        : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n                    </p>\r\n                </div>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ children, ...props }) => {\r\n  return props.loggedIn ? children : <Navigate to=\"/sign-in\" />\r\n      }\r\n\r\nexport default ProtectedRoute; ","class Auth {\r\n    constructor({baseAuthUrl, headers }) {\r\n        this.baseAuthUrl = baseAuthUrl;\r\n        this.headers = headers\r\n    };\r\n\r\n    register(registerData) {\r\n        return fetch(`${this.baseAuthUrl}/signup`, {\r\n        method: 'POST',\r\n        headers: this.headers,\r\n        body: JSON.stringify(registerData),\r\n    })\r\n        .then(this._checkError);\r\n    }\r\n\r\n    _checkError(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n}\r\n\r\nconst auth = new Auth({\r\n    baseAuthUrl: 'https://auth.nomoreparties.co',\r\n    headers: {'Content-Type': 'application/json'}\r\n});\r\n\r\nexport default auth \r\n\r\n/*email: \"p.luyda@yandex.ru\"\r\n_id: \"619a262b96bdf2001aa94fc3\"*/","import React from 'react';\r\n\r\nexport default function ImagePopup (card) {\r\n\r\n    return (  \r\n    <div className={`popup popup-image ${card.isOpen ? 'popup_opened' : ''}`} onClick={card.onClose}>\r\n        <div className=\"popup__container\">\r\n            <button className=\"popup__close-icon link-aim\" type=\"button\" aria-label=\"закрыть\" onClick={card.onClose}></button>\r\n            <figure className=\"popup__image-framing\">\r\n            <img className = \"popup__image\" alt={card.data.name} src={card.data.link} />\r\n            <figcaption className=\"popup__image-label\">{card.data.name}</figcaption>\r\n            </figure>\r\n        </div> \r\n    </div>\r\n)\r\n}","import React from 'react';\r\n\r\nexport default function PopupWithForm (props) {\r\n\r\n    return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}  onClick={props.onClose}>\r\n        <div className=\"popup__container popup__container_cell_exchange\">\r\n            <button className=\"popup__close-icon link-aim\" type=\"button\" aria-label=\"закрыть\" onClick={props.onClose}></button>\r\n            <form className=\"form\" name={props.name} onSubmit={props.onSubmit}>\r\n                <h2 className=\"form__title\">{props.title}</h2>\r\n                {props.children}\r\n                <button className=\"form__button form__button-image\" type=\"submit\">{props.buttonText}</button>\r\n            </form>\r\n        </div> \r\n    </div>\r\n)\r\n}","import React from 'react';\r\n\r\nimport PopupWithForm  from './PopupWithForm';\r\n\r\nexport default function DeleteCardPopup (props) {\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"delete\" \r\n        title=\"Вы уверены?\" \r\n        buttonText=\"Да\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        />\r\n    )\r\n\r\n\r\n}","import React, { useState, useContext, useEffect } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function EditProfilePopup(props) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleNameChange(evt) {\r\n        setName(evt.target.value);\r\n    }\r\n    \r\n    function handleDescriptionChange(evt) {\r\n        setDescription(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n    \r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            onSubmit={handleSubmit}\r\n            name=\"user\" \r\n            title=\"Редактировать профиль\" \r\n            buttonText=\"Сохранить\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n        >\r\n            <label className=\"form__label\">\r\n                    <input className=\"form__input form__input_user_name\"\r\n                    onChange={handleNameChange}\r\n                    value={name || ''} \r\n                    type=\"text\" name=\"name\" \r\n                    id=\"name-input\" placeholder=\"Имя\" \r\n                    minLength=\"2\" maxLength=\"40\" \r\n                    required/>\r\n                    <span className=\"form__input-error name-input-error\"></span>\r\n                </label>\r\n                <label className=\"form__label\">\r\n                    <input className=\"form__input form__input_user_job\"\r\n                    onChange={handleDescriptionChange}\r\n                    value={description || ''} \r\n                    type=\"text\" \r\n                    name=\"about\" \r\n                    id=\"about-input\" \r\n                    placeholder=\"Род деятельности\"  \r\n                    minLength=\"2\" \r\n                    maxLength=\"200\" required/>\r\n                    <span className=\"form__input-error about-input-error\"></span>\r\n                </label>\r\n        </PopupWithForm>\r\n    )\r\n}","import { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup(props) {\r\n    const avatarRef = useRef('');\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n    \r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value,\r\n        });\r\n    }\r\n\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name=\"avatar\" \r\n            title=\"Обновить аватар\" \r\n            buttonText=\"Сохранить\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"form__label form__label_avatar\">\r\n                <input\r\n                ref={avatarRef} \r\n                className=\"form__input form__input_place_avatar\" \r\n                type=\"url\" name=\"avatar\" \r\n                id=\"avatar-input\" \r\n                placeholder=\"Ссылка на фотографию\" \r\n                required/>\r\n                <span className=\"form__input-error avatar-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n\r\n}","import React from 'react';\r\nimport { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function AddPlacePopup(props) {\r\n    const [title, setTitle] = useState('');\r\n    const [link, setLink] = useState('');\r\n\r\n    function handleAddPlaceSubmit(evt) {\r\n        evt.preventDefault();\r\n    \r\n        props.onAddCard({\r\n            name: title,\r\n            link: link,\r\n        });\r\n        setTitle('');\r\n        setLink('');\r\n    }\r\n\r\n    function handleAddTitle(evt) {\r\n        setTitle(evt.target.value);\r\n    }\r\n    \r\n    function handleAddLink(evt) {\r\n        setLink(evt.target.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name=\"card\" \r\n            title=\"Новое место\" \r\n            buttonText=\"Создать\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleAddPlaceSubmit}\r\n        >\r\n            <label className=\"form__label\">\r\n                    <input \r\n                    className=\"form__input form__input_place_name\" \r\n                    type=\"text\" \r\n                    name=\"title\" \r\n                    id=\"title-input\" \r\n                    placeholder=\"Название\" \r\n                    minLength=\"2\" \r\n                    maxLength=\"30\" required \r\n                    value={title}\r\n                    onChange={handleAddTitle}/>\r\n                    <span className=\"form__input-error title-input-error\"></span>\r\n                </label>\r\n                <label className=\"form__label\">\r\n                    <input className=\"form__input form__input_place_image\" \r\n                    type=\"url\" \r\n                    name=\"image\" \r\n                    id=\"image-input\" \r\n                    placeholder=\"Ссылка на картинку\" required\r\n                    value={link}\r\n                    onChange={handleAddLink}/>\r\n                    <span className=\"form__input-error image-input-error\"></span>\r\n                </label>\r\n        </PopupWithForm>\r\n    )\r\n}","import React, { useState,  useEffect  } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport { Route, Routes, useNavigate } from 'react-router-dom';\r\nimport Header  from \"./Header.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport Main from './Main.js';\r\nimport api  from '../utils/Api.js';\r\nimport Login from './Login.js';\r\nimport Register from './Register.js';\r\nimport InfoTooltip from './InfoTooltip.js';\r\nimport ProtectedRoute from './ProtectedRoute.js';\r\nimport auth from '../utils/Auth.js';\r\n\r\nimport ImagePopup  from './ImagePopup.js';\r\nimport DeleteCardPopup from './DeleteCardPopup.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js'\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\n\r\n\r\nexport default function App() {\r\n\r\n    //стейты popups\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n    const [isImagePopupOpen, setImagePopupOpen] = useState(false);\r\n    const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\r\n    const [isInfoTooltip, setIsInfoTooltip] = useState(false);\r\n\r\n    const [selectedCard, setSelectedCard] = useState({});\r\n    const [currentUser, setCurrentUser] = useState({});\r\n    const [cards, setCards] = useState([]);\r\n    const [currentEmail, setCurrentEmail] = useState('');\r\n\r\n    const [successRegister, setSuccessRegister] = useState(false);\r\n\r\n    // стейт маршрутов\r\n    const [currentRoute, setCurrentRoute] = useState('');\r\n\r\n    //стейт логина\r\n    const [loggedIn, setLoggedIn] = useState(false);\r\n\r\n    // запрос  данных пользователя\r\n    useEffect(() => {\r\n        api.getUserInfo()\r\n            .then((userInfo) => {\r\n                setCurrentUser(userInfo);\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }, []);\r\n\r\n    //запроса массива данных карточек\r\n    useEffect(() => {\r\n        api.getInitialCards()\r\n            .then((cardsInfo) => {\r\n                setCards(cardsInfo);\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }, []);\r\n    \r\n    // обработчики открытя всех popup\r\n    const handleEditAvatarClick = () => {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    const handleAddPlaceClick = () => {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n\r\n    const handleEditProfileClick = () => {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n\r\n    const handleDeleteCardClick = () => {\r\n        setIsDeleteCardPopupOpen(true);\r\n    }\r\n\r\n    const handleRegisterClick = () => {\r\n        setIsInfoTooltip(true);\r\n    }\r\n\r\n    const handleCardClick = (data) => {\r\n        setImagePopupOpen(true);\r\n        setSelectedCard(data);\r\n    }\r\n\r\n    // закрытие всех popup\r\n    const closeAllPopups = () => {\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsEditProfilePopupOpen(false);\r\n        setImagePopupOpen(false);\r\n        setIsDeleteCardPopupOpen(false);\r\n        setIsInfoTooltip(false);\r\n    }\r\n\r\n    //управление лайками\r\n    function handleCardLike(card) {\r\n        const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    \r\n        api.changeLikeCardStatus(card._id, !isLiked)\r\n            .then((newCard) => {\r\n                setCards((state) =>\r\n                state.map((c) => (c._id === card._id ? newCard : c))\r\n            );\r\n        })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\n    //удаление карты\r\n    function handleCardDelete(card) {\r\n        api.deleteCard(card._id)\r\n            .then(() => {\r\n            setCards((state) => \r\n            state.filter((c) => c._id !== card._id));\r\n            })\r\n            .catch((err) => {\r\n            console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\n    //смена данных пользователя\r\n    function handleUpdateUser(data) {\r\n        api.setUserInfo(data)\r\n            .then((userInfo) => {\r\n                setCurrentUser(userInfo);\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\n    //смена аватара\r\n    function handleUpdateAvatar(data) {\r\n        api.addAvatar(data)\r\n            .then((userAvatar) => {\r\n            setCurrentUser(userAvatar);\r\n            closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n    \r\n    //добавление новой карты\r\n    function handleAddCard(element) {\r\n        api.addCard(element)\r\n                .then((newCard) => {\r\n                    setCards([newCard, ...cards]);\r\n                    closeAllPopups();\r\n                })\r\n                .catch((err) => {\r\n                    console.log(`Внимание! ${err}`);\r\n                });\r\n    }\r\n    // обработчики закрытия\r\n    function handleClosePopup(evt) {\r\n        if (\r\n            evt.target.classList.contains('popup')\r\n            || evt.target.classList.contains('popup__close-icon')\r\n        ) {\r\n            closeAllPopups();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        function handleEscClose(evt) {\r\n            if (evt.keyCode === 27) closeAllPopups();\r\n        }\r\n    \r\n        document.addEventListener('keydown', handleEscClose);\r\n    \r\n        return () => document.removeEventListener('keydown', handleEscClose);\r\n    }, []);\r\n\r\n    // регистрация\r\n    function handleRegister({ registerData, setRegisterData }) {\r\n        auth.register(registerData)\r\n            .then(() => {\r\n                setIsInfoTooltip(true);\r\n                setSuccessRegister(true);\r\n    \r\n            setRegisterData({\r\n                email: '',\r\n                password: '',\r\n            });\r\n        })\r\n            .catch((err) => {\r\n                setSuccessRegister(false);\r\n                setIsInfoTooltip(true);\r\n    \r\n            \r\n            \r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\n    // авторизация\r\n    function handleAuthorize({ loginData, setLoginData }) {\r\n        auth.authorize(loginData)\r\n            .then((data) => {\r\n                if (data?.token) {\r\n                    localStorage.setItem('token', data.token);\r\n                    setCurrentEmail(loginData.email);\r\n                    setLoggedIn(true);\r\n    \r\n                    setLoginData({\r\n                        email: '',\r\n                        password: '',\r\n                    });\r\n                }\r\n            })\r\n            \r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\nreturn (\r\n<div className=\"page\">\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n        <Header \r\n            currentRoute={currentRoute}\r\n            loggedIn={loggedIn}\r\n        />\r\n        <Routes>\r\n            <Route\r\n                path=\"/\"\r\n                exact\r\n                element={\r\n                    <ProtectedRoute loggedIn={loggedIn}>\r\n                        <Main\r\n                        onEditAvatar={handleEditAvatarClick}\r\n                        onAddPlace={handleAddPlaceClick}\r\n                        onEditProfile={handleEditProfileClick}\r\n                        onCardClick={handleCardClick}\r\n                        cards={cards}\r\n                        onCardLike={handleCardLike}\r\n                        onCardDelete={handleCardDelete}\r\n                        />\r\n                    </ProtectedRoute>    \r\n                }\r\n            />\r\n            <Route exact path=\"/sign-up\" element={\r\n                <Register\r\n                    setCurrentRoute={setCurrentRoute}\r\n                    onRegister={handleRegister}\r\n                    onInfoTooltip={handleRegisterClick}\r\n                    setSuccessRegister={setSuccessRegister}\r\n                />\r\n            } /> \r\n            <Route exact path=\"/sign-in\" element={\r\n                <Login \r\n                    setCurrentRoute={setCurrentRoute}\r\n                    loggedIn={loggedIn}\r\n\r\n                />\r\n            } />\r\n        </Routes>\r\n        {loggedIn && <Footer />}       \r\n        <ImagePopup \r\n            data={selectedCard}\r\n            isOpen={isImagePopupOpen}\r\n            onClose={handleClosePopup}\r\n        />\r\n        <EditAvatarPopup \r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={handleClosePopup}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <EditProfilePopup \r\n            isOpen={isEditProfilePopupOpen} \r\n            onClose={handleClosePopup} \r\n            onUpdateUser={handleUpdateUser}\r\n            />\r\n        <AddPlacePopup \r\n            isOpen={isAddPlacePopupOpen} \r\n            onClose={closeAllPopups} \r\n            onAddCard={handleAddCard}\r\n            />     \r\n        <DeleteCardPopup\r\n            isOpen={isDeleteCardPopupOpen} \r\n            onClose={handleClosePopup} \r\n        />\r\n        <InfoTooltip\r\n            name=\"registration\"\r\n            isOpen={isInfoTooltip} \r\n            onClose={handleClosePopup}\r\n            registrationСompleted={successRegister} \r\n        />\r\n    </CurrentUserContext.Provider>\r\n</div>\r\n);\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport  App   from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}