{"version":3,"sources":["contexts/CurrentUserContext.js","images/Logo.svg","components/Header.js","components/Footer.js","components/Card.js","components/Main.js","utils/Api.js","components/Login.js","components/Register.js","images/successfully.svg","images/unsuccessfully.svg","components/InfoTooltip.js","components/ProtectedRoute.js","utils/Auth.js","components/ImagePopup.js","components/PopupWithForm.js","components/DeleteCardPopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","createContext","Header","props","useState","isDataOpen","setIsDataOpen","className","email","to","onClick","onOut","src","logo","alt","loggedIn","type","currentRoute","Footer","Card","currentUser","useContext","isOwn","data","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardDelete","href","onCardClick","link","name","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","card","api","baseUrl","headers","this","fetch","then","_checkError","method","body","JSON","stringify","element","id","res","ok","json","Promise","reject","status","authorization","Login","setCurrentRoute","onLogin","navigate","password","loginData","setLoginData","handleChangeLoginData","evt","target","value","useEffect","onSubmit","preventDefault","placeholder","minLength","maxLength","required","onChange","Register","onRegister","registerData","setRegisterData","handleChangeRegisterData","InfoTooltip","isOpen","onClose","registrationСompleted","successfully","unsuccessfully","ProtectedRoute","children","auth","baseAuthUrl","token","Authorization","ImagePopup","PopupWithForm","title","buttonText","DeleteCardPopup","EditProfilePopup","setName","description","setDescription","onUpdateUser","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setTitle","setLink","onAddCard","App","useNavigate","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isImagePopupOpen","setImagePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isInfoTooltip","setIsInfoTooltip","selectedCard","setSelectedCard","setCurrentUser","setCards","currentEmail","setCurrentEmail","successRegister","setSuccessRegister","setLoggedIn","getUserInfo","userInfo","catch","err","console","log","getInitialCards","cardsInfo","closeAllPopups","handleClosePopup","classList","contains","handleEscClose","keyCode","document","addEventListener","removeEventListener","localStorage","getItem","checkToken","handleTokenCheck","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","state","c","deleteCard","filter","register","onInfoTooltip","authorize","setItem","addAvatar","userAvatar","setUserInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","getElementById"],"mappings":"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","file":"static/js/main.fe1307c8.chunk.js","sourcesContent":["import { createContext} from \"react\";\r\n\r\nexport const CurrentUserContext = createContext();","export default __webpack_public_path__ + \"static/media/Logo.beaa2c3a.svg\";","import React, { useState} from 'react';\r\nimport { Link } from 'react-router-dom'; \r\nimport logo from '../images/Logo.svg';\r\n\r\nexport default function Header(props) {\r\n\r\n    const [isDataOpen, setIsDataOpen] = useState(false);\r\n\r\n    function openData () {\r\n        setIsDataOpen(true)\r\n    }\r\n\r\n    function closeData () {\r\n        setIsDataOpen(false)\r\n    }\r\n\r\n    return (\r\n    <header className=\"header\">\r\n        <div className=\"header__size\">\r\n            <div className={`header__burger ${isDataOpen ? 'active' : ''}`}>\r\n                <p className=\"header__text\" >{props.email}</p>\r\n                <Link\r\n                    to=\"/sign-in\"\r\n                    className=\"header__link_mobile\"\r\n                    onClick={props.onOut}>\r\n                    Выйти\r\n                </Link>                \r\n            </div>\r\n        </div>\r\n        <div className=\"header__container\">\r\n            <img src={logo} alt=\"Лого\" className=\"header__logo\"/>\r\n            {props.loggedIn &&\r\n            <> \r\n                <div className={`menu__icon ${isDataOpen ? 'close' : ''}`} onClick={openData}>\r\n                    <span></span>\r\n                </div>\r\n                <div className=\"header__size_close-icon\">\r\n                    <button className={`header__close-icon ${isDataOpen ? 'active' : ''}`} type=\"button\" aria-label=\"закрыть\" onClick={closeData}></button>\r\n                </div>\r\n            </>\r\n            }\r\n            <div className=\"header__box\">\r\n                {props.loggedIn ? (\r\n                    <>\r\n                        <p className=\"header__text\" >{props.email}</p>\r\n                        <Link\r\n                        to=\"/sign-in\"\r\n                        className=\"header__link\"\r\n                        onClick={props.onOut}\r\n                        >\r\n                        Выйти\r\n                        </Link>\r\n                    </>\r\n                ) : ( \r\n                <>\r\n                    {(props.currentRoute === '/sign-in') ? (\r\n                    <Link\r\n                        to=\"/sign-up\"\r\n                        className=\"header__link\"\r\n                    >\r\n                        Регистрация\r\n                    </Link>\r\n                    ) : (\r\n                    <Link\r\n                        to=\"/sign-in\"\r\n                        className=\"header__link\"\r\n                    >\r\n                        Войти\r\n                    </Link>\r\n                    )}\r\n                </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    </header>\r\n)\r\n}","import React from 'react';\r\n\r\nexport default function Footer () {\r\n\r\n    return (\r\n    <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy; 2021 Tikhonov Dmitry</p>\r\n    </footer>\r\n)\r\n}","import { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Card (props) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.data.owner._id === currentUser._id;\r\n\r\n    const cardDeleteButtonClassName = `cell__basket ${\r\n        isOwn ? 'cell__basket_opened' : ''\r\n    }`;\r\n\r\n    const isLiked = props.data.likes.some((i) => i._id === currentUser._id);\r\n\r\n    const cardLikeButtonClassName = `cell__heart ${\r\n        isLiked ? 'cell__heart_black' : ''\r\n    }`;\r\n\r\n    function cardClick () {\r\n        props.onCardClick(props.data);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.data);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.data);\r\n    }\r\n\r\n    return (\r\n        <li className=\"cell\">\r\n        <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"корзина\" onClick={handleDeleteClick}></button>\r\n        <a className=\"cell__image-link\"  href=\"#\" onClick={cardClick}><img className=\"cell__image\" src={props.data.link} alt={props.data.name}/></a>\r\n        <div className=\"cell__info\">\r\n            <h2 className=\"cell__caption\">{props.data.name}</h2>\r\n            <div className=\"cell__like\">\r\n                <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\" aria-label=\"лайк\"></button>\r\n                <p className=\"cell__score-likes\">{props.data.likes.length}</p>\r\n            </div>\r\n        </div>\r\n    </li> \r\n    )\r\n}","import Card from './Card.js';\r\nimport { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nexport default function Main (props) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    return (\r\n    <main className=\"content\">\r\n        <section className=\"profile\">\r\n            <button className=\"profile__image-link\" onClick={props.onEditAvatar}><img className=\"profile__avatar\"  src={currentUser.avatar} alt=\"Аватар\"/></button>\r\n            <div className=\"profile__info\">\r\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                <button className=\"profile__changes-button link-aim\" onClick={props.onEditProfile} type=\"button\" aria-label=\"смена пользователя\"></button>\r\n                <p className=\"profile__profession\">{currentUser.about}</p>\r\n            </div>\r\n            <button className=\"profile__add-button link-aim\" onClick={props.onAddPlace} type=\"button\" aria-label=\"добавить карточку\" ></button>\r\n        </section>\r\n        <section className=\"table\">\r\n            <ul className=\"table__cells\">\r\n            {props.cards.map((card) => (\r\n                <Card \r\n                data={card}\r\n                key={card._id} \r\n                onCardLike={props.onCardLike} \r\n                onCardClick={props.onCardClick}\r\n                onCardDelete={props.onCardDelete}\r\n                />\r\n        ))}\r\n            </ul>\r\n        </section>\r\n    </main>\r\n)\r\n}","class Api {\r\n    constructor({baseUrl, headers}) {\r\n        this.baseUrl = baseUrl;\r\n        this.headers = headers;\r\n    };\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            headers: this.headers\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    setUserInfo(data) {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n            })\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    addAvatar(data) {\r\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this.baseUrl}/cards`, {\r\n            headers: this.headers\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n    \r\n    addCard(element) {\r\n        return fetch(`${this.baseUrl}/cards`, {\r\n            method: 'POST', \r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: element.name,\r\n                link: element.link\r\n            })\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this.baseUrl}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    changeLikeCardStatus(id, isLiked) {\r\n        return fetch(`${this.baseUrl}/cards/likes/${id}`, {\r\n            method: isLiked ? 'PUT' : 'DELETE',\r\n            headers: this.headers,\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    _checkError(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-28',\r\nheaders: {\r\n    authorization: '14d1d8a7-1fa6-4dd5-b9aa-bce836d4ee4b',\r\n    'Content-Type': 'application/json'\r\n}\r\n});\r\n\r\nexport default api ","import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\n\r\n\r\nexport default function Login ({setCurrentRoute,  onLogin, loggedIn, navigate}) {\r\n\r\n    const [loginData, setLoginData] = useState({\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n    function handleChangeLoginData(evt) {\r\n        const { name, value } = evt.target;\r\n\r\n        setLoginData({\r\n            ...loginData,\r\n            [name]: value,\r\n        });\r\n        }\r\n\r\n        function handleSubmit(evt) {\r\n            evt.preventDefault();\r\n        \r\n            onLogin({ loginData, setLoginData });\r\n        }\r\n\r\n    useEffect(() => {\r\n        setCurrentRoute('/sign-in');\r\n    }, []);\r\n\r\n    \r\n        return(\r\n        <div className=\"login\">\r\n            <h2 className=\"login__title\">Вход</h2>\r\n            <form className=\"login__form\" onSubmit={handleSubmit}>\r\n                <label className=\"login__label\">\r\n                    <input className=\"login__input\"\r\n                    type=\"email\" \r\n                    name=\"email\" \r\n                    id=\"email-input\" placeholder=\"Email\" \r\n                    minLength=\"6\" maxLength=\"20\" \r\n                    required\r\n                    value={loginData.email || ''}\r\n                    onChange={handleChangeLoginData}\r\n                    />\r\n                    <span className=\"login__input-error email-input-error form__input-error\"></span>\r\n                </label>\r\n                <label className=\"login__label\">\r\n                    <input className=\"login__input\"\r\n                    type=\"password\" \r\n                    name=\"password\" \r\n                    id=\"password-input\" \r\n                    placeholder=\"Пароль\"  \r\n                    minLength=\"6\" \r\n                    maxLength=\"20\" required\r\n                    value={loginData.password || ''}\r\n                    onChange={handleChangeLoginData}\r\n                    />\r\n                    <span className=\"login__input-error password-input-error form__input-error\"></span>\r\n                </label>\r\n                <button className=\"login__button\" type=\"submit\">Войти</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function Register ({setCurrentRoute, onRegister }) {\r\n\r\n    const [registerData, setRegisterData] = useState({\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n    function handleChangeRegisterData(evt) {\r\n        const { name, value } = evt.target;\r\n    \r\n        setRegisterData({\r\n            ...registerData,\r\n            [name]: value,\r\n        });\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n    \r\n        onRegister({ registerData, setRegisterData });\r\n    }\r\n    \r\n\r\n    useEffect(() => {\r\n        setCurrentRoute('/sign-up');\r\n    }, []);\r\n\r\n        return(\r\n        <div className=\"register\">\r\n            <h2 className=\"register__title\">Регистрация</h2>\r\n            <form className=\"register__form\" onSubmit={handleSubmit}>\r\n                <label className=\"register__label\">\r\n                    <input className=\"register__input\"\r\n                    type=\"email\" \r\n                    name=\"email\"\r\n                    value={registerData.email || ''}\r\n                    onChange={handleChangeRegisterData} \r\n                    id=\"email-input\" placeholder=\"Email\" \r\n                    minLength=\"6\" maxLength=\"20\" \r\n                    required/>\r\n                    <span className=\"register__input-error email-input-error form__input-error\"></span>\r\n                </label>\r\n                <label className=\"register__label\">\r\n                    <input className=\"register__input\"\r\n                    type=\"password\" \r\n                    name=\"password\"\r\n                    value={registerData.password || ''}\r\n                    onChange={handleChangeRegisterData} \r\n                    id=\"password-input\" \r\n                    placeholder=\"Пароль\"  \r\n                    minLength=\"6\" \r\n                    maxLength=\"20\" required/>\r\n                    <span className=\"register__input-error password-input-error form__input-error\"></span>\r\n                </label>\r\n                <button className=\"register__button\" type=\"submit\">Зарегистрироваться</button>\r\n            </form>\r\n            <div className=\"register__box\">\r\n            <p className=\"register__text\" >Уже зарегистрированы?</p>\r\n            <Link className=\"register__link\" to=\"/sign-in\">Войти</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/successfully.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/unsuccessfully.df8eddf6.svg\";","import React from 'react';\r\nimport successfully from '../images/successfully.svg'\r\nimport unsuccessfully from '../images/unsuccessfully.svg'\r\n\r\nexport default function InfoTooltip (props) {\r\n\r\n    return (\r\n        <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}  onClick={props.onClose}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close-icon link-aim\" type=\"button\" aria-label=\"закрыть\" onClick={props.onClose}></button>\r\n                <div className=\"popup__box\">\r\n                    <img\r\n                        src={props.registrationСompleted ? successfully : unsuccessfully}\r\n                        alt={props.registrationСompleted ? \"галочка\" : \"крестик\"}\r\n                        className=\"popup__icon\"\r\n                    />\r\n                    <p className=\"popup__text\">\r\n                        {props.registrationСompleted\r\n                        ? 'Вы успешно зарегистрировались!'\r\n                        : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n                    </p>\r\n                </div>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ children, ...props }) => {\r\n  return props.loggedIn ? children : <Navigate to=\"/sign-in\" />\r\n      }\r\n\r\nexport default ProtectedRoute; ","class Auth {\r\n    constructor({baseAuthUrl, headers }) {\r\n        this.baseAuthUrl = baseAuthUrl;\r\n        this.headers = headers\r\n    };\r\n\r\n    register(registerData) {\r\n        return fetch(`${this.baseAuthUrl}/signup`, {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify(registerData),\r\n            })\r\n\r\n        .then(this._checkError);\r\n    }\r\n\r\n    authorize(data) {\r\n        return fetch(`${this.baseAuthUrl}/signin`, {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify(data),\r\n            })\r\n\r\n        .then(this._checkError);\r\n    }\r\n\r\n    checkToken(token) {\r\n        return fetch(`${this.baseAuthUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n        })\r\n        .then(this._checkError);\r\n    }\r\n\r\n    _checkError(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n}\r\n\r\nconst auth = new Auth({\r\n    baseAuthUrl: 'https://auth.nomoreparties.co',\r\n    headers: {'Content-Type': 'application/json'}\r\n});\r\n\r\nexport default auth ","import React from 'react';\r\n\r\nexport default function ImagePopup (card) {\r\n\r\n    return (  \r\n    <div className={`popup popup-image ${card.isOpen ? 'popup_opened' : ''}`} onClick={card.onClose}>\r\n        <div className=\"popup__container\">\r\n            <button className=\"popup__close-icon link-aim\" type=\"button\" aria-label=\"закрыть\" onClick={card.onClose}></button>\r\n            <figure className=\"popup__image-framing\">\r\n            <img className = \"popup__image\" alt={card.data.name} src={card.data.link} />\r\n            <figcaption className=\"popup__image-label\">{card.data.name}</figcaption>\r\n            </figure>\r\n        </div> \r\n    </div>\r\n)\r\n}","import React from 'react';\r\n\r\nexport default function PopupWithForm (props) {\r\n\r\n    return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}  onClick={props.onClose}>\r\n        <div className=\"popup__container popup__container_cell_exchange\">\r\n            <button className=\"popup__close-icon link-aim\" type=\"button\" aria-label=\"закрыть\" onClick={props.onClose}></button>\r\n            <form className=\"form\" name={props.name} onSubmit={props.onSubmit}>\r\n                <h2 className=\"form__title\">{props.title}</h2>\r\n                {props.children}\r\n                <button className=\"form__button form__button-image\" type=\"submit\">{props.buttonText}</button>\r\n            </form>\r\n        </div> \r\n    </div>\r\n)\r\n}","import React from 'react';\r\n\r\nimport PopupWithForm  from './PopupWithForm';\r\n\r\nexport default function DeleteCardPopup (props) {\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"delete\" \r\n        title=\"Вы уверены?\" \r\n        buttonText=\"Да\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        />\r\n    )\r\n\r\n\r\n}","import React, { useState, useContext, useEffect } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function EditProfilePopup(props) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleNameChange(evt) {\r\n        setName(evt.target.value);\r\n    }\r\n    \r\n    function handleDescriptionChange(evt) {\r\n        setDescription(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n    \r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            onSubmit={handleSubmit}\r\n            name=\"user\" \r\n            title=\"Редактировать профиль\" \r\n            buttonText=\"Сохранить\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n        >\r\n            <label className=\"form__label\">\r\n                    <input className=\"form__input form__input_user_name\"\r\n                    onChange={handleNameChange}\r\n                    value={name || ''} \r\n                    type=\"text\" name=\"name\" \r\n                    id=\"name-input\" placeholder=\"Имя\" \r\n                    minLength=\"2\" maxLength=\"40\" \r\n                    required/>\r\n                    <span className=\"form__input-error name-input-error\"></span>\r\n                </label>\r\n                <label className=\"form__label\">\r\n                    <input className=\"form__input form__input_user_job\"\r\n                    onChange={handleDescriptionChange}\r\n                    value={description || ''} \r\n                    type=\"text\" \r\n                    name=\"about\" \r\n                    id=\"about-input\" \r\n                    placeholder=\"Род деятельности\"  \r\n                    minLength=\"2\" \r\n                    maxLength=\"200\" required/>\r\n                    <span className=\"form__input-error about-input-error\"></span>\r\n                </label>\r\n        </PopupWithForm>\r\n    )\r\n}","import { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup(props) {\r\n    const avatarRef = useRef('');\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n    \r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value,\r\n        });\r\n    }\r\n\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name=\"avatar\" \r\n            title=\"Обновить аватар\" \r\n            buttonText=\"Сохранить\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"form__label form__label_avatar\">\r\n                <input\r\n                ref={avatarRef} \r\n                className=\"form__input form__input_place_avatar\" \r\n                type=\"url\" name=\"avatar\" \r\n                id=\"avatar-input\" \r\n                placeholder=\"Ссылка на фотографию\" \r\n                required/>\r\n                <span className=\"form__input-error avatar-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n\r\n}","import React from 'react';\r\nimport { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function AddPlacePopup(props) {\r\n    const [title, setTitle] = useState('');\r\n    const [link, setLink] = useState('');\r\n\r\n    function handleAddPlaceSubmit(evt) {\r\n        evt.preventDefault();\r\n    \r\n        props.onAddCard({\r\n            name: title,\r\n            link: link,\r\n        });\r\n        setTitle('');\r\n        setLink('');\r\n    }\r\n\r\n    function handleAddTitle(evt) {\r\n        setTitle(evt.target.value);\r\n    }\r\n    \r\n    function handleAddLink(evt) {\r\n        setLink(evt.target.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name=\"card\" \r\n            title=\"Новое место\" \r\n            buttonText=\"Создать\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleAddPlaceSubmit}\r\n        >\r\n            <label className=\"form__label\">\r\n                    <input \r\n                    className=\"form__input form__input_place_name\" \r\n                    type=\"text\" \r\n                    name=\"title\" \r\n                    id=\"title-input\" \r\n                    placeholder=\"Название\" \r\n                    minLength=\"2\" \r\n                    maxLength=\"30\" required \r\n                    value={title}\r\n                    onChange={handleAddTitle}/>\r\n                    <span className=\"form__input-error title-input-error\"></span>\r\n                </label>\r\n                <label className=\"form__label\">\r\n                    <input className=\"form__input form__input_place_image\" \r\n                    type=\"url\" \r\n                    name=\"image\" \r\n                    id=\"image-input\" \r\n                    placeholder=\"Ссылка на картинку\" required\r\n                    value={link}\r\n                    onChange={handleAddLink}/>\r\n                    <span className=\"form__input-error image-input-error\"></span>\r\n                </label>\r\n        </PopupWithForm>\r\n    )\r\n}","import React, { useState,  useEffect  } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport { Route, Routes, useNavigate } from 'react-router-dom';\r\nimport Header  from \"./Header.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport Main from './Main.js';\r\nimport api  from '../utils/Api.js';\r\nimport Login from './Login.js';\r\nimport Register from './Register.js';\r\nimport InfoTooltip from './InfoTooltip.js';\r\nimport ProtectedRoute from './ProtectedRoute.js';\r\nimport auth from '../utils/Auth.js';\r\n\r\nimport ImagePopup  from './ImagePopup.js';\r\nimport DeleteCardPopup from './DeleteCardPopup.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js'\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\n\r\n\r\nexport default function App() {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    //стейты popups\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n    const [isImagePopupOpen, setImagePopupOpen] = useState(false);\r\n    const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\r\n    const [isInfoTooltip, setIsInfoTooltip] = useState(false);\r\n\r\n    const [selectedCard, setSelectedCard] = useState({});\r\n    const [currentUser, setCurrentUser] = useState({});\r\n    const [cards, setCards] = useState([]);\r\n    \r\n    const [currentEmail, setCurrentEmail] = useState('');\r\n    const [successRegister, setSuccessRegister] = useState(false);\r\n\r\n    // стейт маршрутов\r\n    const [currentRoute, setCurrentRoute] = useState('');\r\n\r\n    //стейт логина\r\n    const [loggedIn, setLoggedIn] = useState(false);\r\n\r\n    // запрос  данных пользователя\r\n    useEffect(() => {\r\n        api.getUserInfo()\r\n            .then((userInfo) => {\r\n                setCurrentUser(userInfo);\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }, []);\r\n\r\n    //запроса массива данных карточек\r\n    useEffect(() => {\r\n        api.getInitialCards()\r\n            .then((cardsInfo) => {\r\n                setCards(cardsInfo);\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }, []);\r\n    \r\n    // обработчики открытя всех popup\r\n    const handleEditAvatarClick = () => {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    const handleAddPlaceClick = () => {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n\r\n    const handleEditProfileClick = () => {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n\r\n    const handleDeleteCardClick = () => {\r\n        setIsDeleteCardPopupOpen(true);\r\n    }\r\n\r\n    const handleRegisterClick = () => {\r\n        setIsInfoTooltip(true);\r\n    }\r\n\r\n    const handleCardClick = (data) => {\r\n        setImagePopupOpen(true);\r\n        setSelectedCard(data);\r\n    }\r\n\r\n    // закрытие всех popup\r\n    const closeAllPopups = () => {\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsEditProfilePopupOpen(false);\r\n        setImagePopupOpen(false);\r\n        setIsDeleteCardPopupOpen(false);\r\n        setIsInfoTooltip(false);\r\n    }\r\n\r\n    //выход\r\n    function handleOutput() {\r\n        if (localStorage.getItem('token')) {\r\n            localStorage.removeItem('token');\r\n            navigate('/sign-in');\r\n            setLoggedIn(false);\r\n        }\r\n    }\r\n\r\n    //управление лайками\r\n    function handleCardLike(card) {\r\n        const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    \r\n        api.changeLikeCardStatus(card._id, !isLiked)\r\n            .then((newCard) => {\r\n                setCards((state) =>\r\n                state.map((c) => (c._id === card._id ? newCard : c))\r\n            );\r\n        })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\n    //удаление карты\r\n    function handleCardDelete(card) {\r\n        api.deleteCard(card._id)\r\n            .then(() => {\r\n            setCards((state) => \r\n            state.filter((c) => c._id !== card._id));\r\n            })\r\n            .catch((err) => {\r\n            console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\n    //смена данных пользователя\r\n    function handleUpdateUser(data) {\r\n        api.setUserInfo(data)\r\n            .then((userInfo) => {\r\n                setCurrentUser(userInfo);\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\n    //смена аватара\r\n    function handleUpdateAvatar(data) {\r\n        api.addAvatar(data)\r\n            .then((userAvatar) => {\r\n            setCurrentUser(userAvatar);\r\n            closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n    \r\n    //добавление новой карты\r\n    function handleAddCard(element) {\r\n        api.addCard(element)\r\n                .then((newCard) => {\r\n                    setCards([newCard, ...cards]);\r\n                    closeAllPopups();\r\n                })\r\n                .catch((err) => {\r\n                    console.log(`Внимание! ${err}`);\r\n                });\r\n    }\r\n    // обработчики закрытия\r\n    function handleClosePopup(evt) {\r\n        if (\r\n            evt.target.classList.contains('popup')\r\n            || evt.target.classList.contains('popup__close-icon')\r\n        ) {\r\n            closeAllPopups();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        function handleEscClose(evt) {\r\n            if (evt.keyCode === 27) closeAllPopups();\r\n        }\r\n    \r\n        document.addEventListener('keydown', handleEscClose);\r\n    \r\n        return () => document.removeEventListener('keydown', handleEscClose);\r\n    }, []);\r\n\r\n    // регистрация\r\n    function handleRegister({ registerData, setRegisterData }) {\r\n        auth.register(registerData)\r\n            .then(() => {\r\n                setSuccessRegister(true);\r\n                setIsInfoTooltip(true);\r\n                navigate('/sign-in');\r\n    \r\n            setRegisterData({\r\n                email: '',\r\n                password: '',\r\n            });\r\n        })\r\n            .catch((err) => {\r\n                setSuccessRegister(false);\r\n                setIsInfoTooltip(true);\r\n    \r\n            \r\n            \r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\n    // авторизация\r\n    function handleAuthorize({ loginData, setLoginData }) {\r\n        auth.authorize(loginData)\r\n            .then((data) => {\r\n                if (data.token) {\r\n                    setLoggedIn(true)\r\n                    navigate('/')\r\n                    localStorage.setItem('token', data.token);\r\n    \r\n                    setLoginData({\r\n                        email: '',\r\n                        password: '',\r\n                    });\r\n                }\r\n            })\r\n            \r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        function handleTokenCheck() {\r\n            if (localStorage.getItem('token')) {\r\n            const token = localStorage.getItem('token');\r\n            auth.checkToken(token)\r\n                .then((data) => {\r\n                    if (data) {\r\n                        setCurrentEmail(data.data.email);\r\n                        setLoggedIn(true);\r\n                        navigate('/');\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(`Внимание! ${err}`);\r\n                });\r\n        }\r\n    }\r\n\r\n    handleTokenCheck();\r\n}, []);\r\n\r\n\r\n\r\n\r\nreturn (\r\n<div className=\"page\">\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n        <Header \r\n            currentRoute={currentRoute}\r\n            loggedIn={loggedIn}\r\n            email={currentEmail}\r\n            onOut={handleOutput}\r\n        />\r\n        <Routes>\r\n            <Route exact path='/'  element={\r\n                <ProtectedRoute loggedIn={loggedIn}>\r\n                    <Main\r\n                        onEditAvatar={handleEditAvatarClick}\r\n                        onAddPlace={handleAddPlaceClick}\r\n                        onEditProfile={handleEditProfileClick}\r\n                        onCardClick={handleCardClick}\r\n                        cards={cards}\r\n                        onCardLike={handleCardLike}\r\n                        onCardDelete={handleCardDelete}\r\n                    />\r\n                </ProtectedRoute>    \r\n                }\r\n            />\r\n            <Route exact path=\"/sign-up\" element={\r\n                <Register\r\n                    setCurrentRoute={setCurrentRoute}\r\n                    onRegister={handleRegister}\r\n                    onInfoTooltip={handleRegisterClick}\r\n                    successRegister={successRegister}\r\n                />\r\n            } /> \r\n            <Route exact path=\"/sign-in\" element={\r\n                <Login \r\n                    setCurrentRoute={setCurrentRoute}\r\n                    onLogin={handleAuthorize}\r\n                    navigate={navigate}\r\n                    loggedIn={loggedIn}\r\n\r\n                />\r\n            } />\r\n        </Routes>\r\n        {loggedIn && <Footer />}       \r\n        <ImagePopup \r\n            data={selectedCard}\r\n            isOpen={isImagePopupOpen}\r\n            onClose={handleClosePopup}\r\n        />\r\n        <EditAvatarPopup \r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={handleClosePopup}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <EditProfilePopup \r\n            isOpen={isEditProfilePopupOpen} \r\n            onClose={handleClosePopup} \r\n            onUpdateUser={handleUpdateUser}\r\n            />\r\n        <AddPlacePopup \r\n            isOpen={isAddPlacePopupOpen} \r\n            onClose={handleClosePopup} \r\n            onAddCard={handleAddCard}\r\n            />     \r\n        <DeleteCardPopup\r\n            isOpen={isDeleteCardPopupOpen} \r\n            onClose={handleClosePopup} \r\n        />\r\n        <InfoTooltip\r\n            name=\"registration\"\r\n            isOpen={isInfoTooltip} \r\n            onClose={handleClosePopup}\r\n            registrationСompleted={successRegister} \r\n        />\r\n    </CurrentUserContext.Provider>\r\n</div>\r\n);\r\n}\r\n    ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport  App   from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename = {process.env.PUBLIC_URL}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}