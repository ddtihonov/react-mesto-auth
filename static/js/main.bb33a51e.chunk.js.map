{"version":3,"sources":["contexts/CurrentUserContext.js","images/Logo.svg","components/Header.js","components/Footer.js","components/Card.js","components/Main.js","utils/Api.js","components/Login.js","components/Register.js","images/successfully.svg","images/unsuccessfully.svg","components/InfoTooltip.js","components/ProtectedRoute.js","utils/Auth.js","components/ImagePopup.js","components/PopupWithForm.js","components/DeleteCardPopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","createContext","Header","props","className","src","logo","alt","currentRoute","to","Footer","Card","currentUser","useContext","isOwn","data","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDelete","href","onCardClick","link","name","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","card","api","baseUrl","headers","this","fetch","then","_checkError","method","body","JSON","stringify","element","id","res","ok","json","Promise","reject","status","authorization","Login","setCurrentRoute","onLogin","setSuccessRegister","loggedIn","useState","email","password","loginData","setLoginData","handleChangeLoginData","evt","target","value","useEffect","onSubmit","preventDefault","placeholder","minLength","maxLength","required","onChange","Register","onRegister","onInfoTooltip","successRegister","registerData","setRegisterData","handleChangeRegisterData","InfoTooltip","isOpen","onClose","registrationСompleted","successfully","unsuccessfully","ProtectedRoute","children","auth","baseAuthUrl","token","Authorization","ImagePopup","PopupWithForm","title","buttonText","DeleteCardPopup","EditProfilePopup","setName","description","setDescription","onUpdateUser","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setTitle","setLink","onAddCard","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isImagePopupOpen","setImagePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isInfoTooltip","setIsInfoTooltip","selectedCard","setSelectedCard","setCurrentUser","setCards","setCurrentEmail","setLoggedIn","getUserInfo","userInfo","catch","err","console","log","getInitialCards","cardsInfo","closeAllPopups","handleClosePopup","classList","contains","handleEscClose","keyCode","document","addEventListener","removeEventListener","localStorage","getItem","checkToken","handleTokenCheck","Provider","path","exact","changeLikeCardStatus","newCard","state","c","deleteCard","filter","register","authorize","setItem","addAvatar","userAvatar","setUserInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bb33a51e.chunk.js","sourcesContent":["import { createContext} from \"react\";\r\n\r\nexport const CurrentUserContext = createContext();","export default __webpack_public_path__ + \"static/media/Logo.beaa2c3a.svg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom'; \r\nimport logo from '../images/Logo.svg';\r\n\r\nexport default function Header(props) {\r\n    \r\n    return (\r\n    <header className=\"header\">\r\n        <div className=\"header__container\">\r\n            <img src={logo} alt=\"Лого\" className=\"header__logo\"/>\r\n            <div className=\"header__box\"> \r\n                <p className=\"header__text\" ></p>\r\n                <>\r\n                    {(props.currentRoute === '/sign-in') ? (\r\n                    <Link\r\n                        to=\"/sign-up\"\r\n                        className=\"header__link\"\r\n                    >\r\n                        Регистрация\r\n                    </Link>\r\n                    ) : (\r\n                    <Link\r\n                        to=\"/sign-in\"\r\n                        className=\"header__link\"\r\n                    >\r\n                        Войти\r\n                    </Link>\r\n                    )}\r\n                </>\r\n            </div>\r\n        </div>\r\n    </header>\r\n)\r\n}","import React from 'react';\r\n\r\nexport default function Footer () {\r\n\r\n    return (\r\n    <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy; 2021 Tikhonov Dmitry</p>\r\n    </footer>\r\n)\r\n}","import { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Card (props) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.data.owner._id === currentUser._id;\r\n\r\n    const cardDeleteButtonClassName = `cell__basket ${\r\n        isOwn ? 'cell__basket_opened' : ''\r\n    }`;\r\n\r\n    const isLiked = props.data.likes.some((i) => i._id === currentUser._id);\r\n\r\n    const cardLikeButtonClassName = `cell__heart ${\r\n        isLiked ? 'cell__heart_black' : ''\r\n    }`;\r\n\r\n    function cardClick () {\r\n        props.onCardClick(props.data);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.data);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.data);\r\n    }\r\n\r\n    return (\r\n        <li className=\"cell\">\r\n        <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"корзина\" onClick={handleDeleteClick}></button>\r\n        <a className=\"cell__image-link\"  href=\"#\" onClick={cardClick}><img className=\"cell__image\" src={props.data.link} alt={props.data.name}/></a>\r\n        <div className=\"cell__info\">\r\n            <h2 className=\"cell__caption\">{props.data.name}</h2>\r\n            <div className=\"cell__like\">\r\n                <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\" aria-label=\"лайк\"></button>\r\n                <p className=\"cell__score-likes\">{props.data.likes.length}</p>\r\n            </div>\r\n        </div>\r\n    </li> \r\n    )\r\n}","import Card from './Card.js';\r\nimport { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nexport default function Main (props) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    return (\r\n    <main className=\"content\">\r\n        <section className=\"profile\">\r\n            <a className=\"profile__image-link\" onClick={props.onEditAvatar}><img className=\"profile__avatar\"  src={currentUser.avatar} alt=\"Аватар\"/></a>\r\n            <div className=\"profile__info\">\r\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                <button className=\"profile__changes-button link-aim\" onClick={props.onEditProfile} type=\"button\" aria-label=\"смена пользователя\"></button>\r\n                <p className=\"profile__profession\">{currentUser.about}</p>\r\n            </div>\r\n            <button className=\"profile__add-button link-aim\" onClick={props.onAddPlace} type=\"button\" aria-label=\"добавить карточку\" ></button>\r\n        </section>\r\n        <section className=\"table\">\r\n            <ul className=\"table__cells\">\r\n            {props.cards.map((card) => (\r\n                <Card \r\n                data={card}\r\n                key={card._id} \r\n                onCardLike={props.onCardLike} \r\n                onCardClick={props.onCardClick}\r\n                onCardDelete={props.onCardDelete}\r\n                />\r\n        ))}\r\n            </ul>\r\n        </section>\r\n    </main>\r\n)\r\n}","class Api {\r\n    constructor({baseUrl, headers}) {\r\n        this.baseUrl = baseUrl;\r\n        this.headers = headers;\r\n    };\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            headers: this.headers\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    setUserInfo(data) {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n            })\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    addAvatar(data) {\r\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this.baseUrl}/cards`, {\r\n            headers: this.headers\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n    \r\n    addCard(element) {\r\n        return fetch(`${this.baseUrl}/cards`, {\r\n            method: 'POST', \r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: element.name,\r\n                link: element.link\r\n            })\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this.baseUrl}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    changeLikeCardStatus(id, isLiked) {\r\n        return fetch(`${this.baseUrl}/cards/likes/${id}`, {\r\n            method: isLiked ? 'PUT' : 'DELETE',\r\n            headers: this.headers,\r\n        })\r\n            .then(this._checkError);\r\n    }\r\n\r\n    _checkError(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-28',\r\nheaders: {\r\n    authorization: '14d1d8a7-1fa6-4dd5-b9aa-bce836d4ee4b',\r\n    'Content-Type': 'application/json'\r\n}\r\n});\r\n\r\nexport default api ","import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\n\r\n\r\nexport default function Login ({setCurrentRoute,  onLogin, loggedIn, setSuccessRegister}) {\r\n\r\n    const [loginData, setLoginData] = useState({\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n    function handleChangeLoginData(evt) {\r\n        const { name, value } = evt.target;\r\n\r\n        setLoginData({\r\n            ...loginData,\r\n            [name]: value,\r\n        });\r\n        }\r\n\r\n        function handleSubmit(evt) {\r\n            evt.preventDefault();\r\n        \r\n            onLogin({ loginData, setLoginData });\r\n        }\r\n\r\n    useEffect(() => {\r\n        setSuccessRegister(false);\r\n        setCurrentRoute('/sign-in');\r\n    }, []);\r\n\r\n    /*useEffect(() => {\r\n        if (loggedIn) history.push('/');\r\n    }, [loggedIn]);*/\r\n\r\n\r\n    \r\n        return(\r\n        <div className=\"login\">\r\n            <h2 className=\"login__title\">Вход</h2>\r\n            <form className=\"login__form\" onSubmit={handleSubmit}>\r\n                <label className=\"login__label\">\r\n                    <input className=\"login__input\"\r\n                    type=\"email\" \r\n                    name=\"email\" \r\n                    id=\"email-input\" placeholder=\"Email\" \r\n                    minLength=\"6\" maxLength=\"20\" \r\n                    required\r\n                    value={loginData.email || ''}\r\n                    onChange={handleChangeLoginData}\r\n                    />\r\n                    <span className=\"login__input-error email-input-error form__input-error\"></span>\r\n                </label>\r\n                <label className=\"login__label\">\r\n                    <input className=\"login__input\"\r\n                    type=\"password\" \r\n                    name=\"password\" \r\n                    id=\"password-input\" \r\n                    placeholder=\"Пароль\"  \r\n                    minLength=\"6\" \r\n                    maxLength=\"20\" required\r\n                    value={loginData.password || ''}\r\n                    onChange={handleChangeLoginData}\r\n                    />\r\n                    <span className=\"login__input-error password-input-error form__input-error\"></span>\r\n                </label>\r\n                <button className=\"login__button\" type=\"submit\">Войти</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function Register ({setCurrentRoute, onRegister, onInfoTooltip, successRegister }) {\r\n\r\n    const [registerData, setRegisterData] = useState({\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n    function handleChangeRegisterData(evt) {\r\n        const { name, value } = evt.target;\r\n    \r\n        setRegisterData({\r\n            ...registerData,\r\n            [name]: value,\r\n        });\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n    \r\n        onRegister({ registerData, setRegisterData });\r\n    }\r\n    \r\n\r\n    useEffect(() => {\r\n        setCurrentRoute('/sign-up');\r\n    }, []);\r\n\r\n        return(\r\n        <div className=\"register\">\r\n            <h2 className=\"register__title\">Регистрация</h2>\r\n            <form className=\"register__form\" onSubmit={handleSubmit}>\r\n                <label className=\"register__label\">\r\n                    <input className=\"register__input\"\r\n                    type=\"email\" \r\n                    name=\"email\"\r\n                    value={registerData.email || ''}\r\n                    onChange={handleChangeRegisterData} \r\n                    id=\"email-input\" placeholder=\"Email\" \r\n                    minLength=\"6\" maxLength=\"20\" \r\n                    required/>\r\n                    <span className=\"register__input-error email-input-error form__input-error\"></span>\r\n                </label>\r\n                <label className=\"register__label\">\r\n                    <input className=\"register__input\"\r\n                    type=\"password\" \r\n                    name=\"password\"\r\n                    value={registerData.password || ''}\r\n                    onChange={handleChangeRegisterData} \r\n                    id=\"password-input\" \r\n                    placeholder=\"Пароль\"  \r\n                    minLength=\"6\" \r\n                    maxLength=\"20\" required/>\r\n                    <span className=\"register__input-error password-input-error form__input-error\"></span>\r\n                </label>\r\n                <button className=\"register__button\" type=\"submit\">Зарегистрироваться</button>\r\n            </form>\r\n            <div className=\"register__box\">\r\n            <p className=\"register__text\" >Уже зарегистрированы?</p>\r\n            <Link className=\"register__link\" to=\"/sign-in\">Войти</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/successfully.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/unsuccessfully.df8eddf6.svg\";","import React from 'react';\r\nimport successfully from '../images/successfully.svg'\r\nimport unsuccessfully from '../images/unsuccessfully.svg'\r\n\r\nexport default function InfoTooltip (props) {\r\n\r\n    return (\r\n        <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}  onClick={props.onClose}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close-icon link-aim\" type=\"button\" aria-label=\"закрыть\" onClick={props.onClose}></button>\r\n                <div className=\"popup__box\">\r\n                    <img\r\n                        src={props.registrationСompleted ? successfully : unsuccessfully}\r\n                        alt={props.registrationСompleted ? \"галочка\" : \"крестик\"}\r\n                        className=\"popup__icon\"\r\n                    />\r\n                    <p className=\"popup__text\">\r\n                        {props.registrationСompleted\r\n                        ? 'Вы успешно зарегистрировались!'\r\n                        : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n                    </p>\r\n                </div>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ children, ...props }) => {\r\n  return props.loggedIn ? children : <Navigate to=\"/sign-in\" />\r\n      }\r\n\r\nexport default ProtectedRoute; ","class Auth {\r\n    constructor({baseAuthUrl, headers }) {\r\n        this.baseAuthUrl = baseAuthUrl;\r\n        this.headers = headers\r\n    };\r\n\r\n    register(registerData) {\r\n        return fetch(`${this.baseAuthUrl}/signup`, {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify(registerData),\r\n            })\r\n\r\n        .then(this._checkError);\r\n    }\r\n\r\n    authorize(loginData) {\r\n        return fetch(`${this.baseAuthUrl}/signin`, {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify(loginData),\r\n            })\r\n\r\n        .then(this._checkError);\r\n    }\r\n\r\n    checkToken(token) {\r\n        return fetch(`${this.baseAuthUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n        })\r\n        .then(this._checkError);\r\n    }\r\n\r\n    _checkError(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n}\r\n\r\nconst auth = new Auth({\r\n    baseAuthUrl: 'https://auth.nomoreparties.co',\r\n    headers: {'Content-Type': 'application/json'}\r\n});\r\n\r\nexport default auth ","import React from 'react';\r\n\r\nexport default function ImagePopup (card) {\r\n\r\n    return (  \r\n    <div className={`popup popup-image ${card.isOpen ? 'popup_opened' : ''}`} onClick={card.onClose}>\r\n        <div className=\"popup__container\">\r\n            <button className=\"popup__close-icon link-aim\" type=\"button\" aria-label=\"закрыть\" onClick={card.onClose}></button>\r\n            <figure className=\"popup__image-framing\">\r\n            <img className = \"popup__image\" alt={card.data.name} src={card.data.link} />\r\n            <figcaption className=\"popup__image-label\">{card.data.name}</figcaption>\r\n            </figure>\r\n        </div> \r\n    </div>\r\n)\r\n}","import React from 'react';\r\n\r\nexport default function PopupWithForm (props) {\r\n\r\n    return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}  onClick={props.onClose}>\r\n        <div className=\"popup__container popup__container_cell_exchange\">\r\n            <button className=\"popup__close-icon link-aim\" type=\"button\" aria-label=\"закрыть\" onClick={props.onClose}></button>\r\n            <form className=\"form\" name={props.name} onSubmit={props.onSubmit}>\r\n                <h2 className=\"form__title\">{props.title}</h2>\r\n                {props.children}\r\n                <button className=\"form__button form__button-image\" type=\"submit\">{props.buttonText}</button>\r\n            </form>\r\n        </div> \r\n    </div>\r\n)\r\n}","import React from 'react';\r\n\r\nimport PopupWithForm  from './PopupWithForm';\r\n\r\nexport default function DeleteCardPopup (props) {\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"delete\" \r\n        title=\"Вы уверены?\" \r\n        buttonText=\"Да\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        />\r\n    )\r\n\r\n\r\n}","import React, { useState, useContext, useEffect } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function EditProfilePopup(props) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleNameChange(evt) {\r\n        setName(evt.target.value);\r\n    }\r\n    \r\n    function handleDescriptionChange(evt) {\r\n        setDescription(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n    \r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            onSubmit={handleSubmit}\r\n            name=\"user\" \r\n            title=\"Редактировать профиль\" \r\n            buttonText=\"Сохранить\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n        >\r\n            <label className=\"form__label\">\r\n                    <input className=\"form__input form__input_user_name\"\r\n                    onChange={handleNameChange}\r\n                    value={name || ''} \r\n                    type=\"text\" name=\"name\" \r\n                    id=\"name-input\" placeholder=\"Имя\" \r\n                    minLength=\"2\" maxLength=\"40\" \r\n                    required/>\r\n                    <span className=\"form__input-error name-input-error\"></span>\r\n                </label>\r\n                <label className=\"form__label\">\r\n                    <input className=\"form__input form__input_user_job\"\r\n                    onChange={handleDescriptionChange}\r\n                    value={description || ''} \r\n                    type=\"text\" \r\n                    name=\"about\" \r\n                    id=\"about-input\" \r\n                    placeholder=\"Род деятельности\"  \r\n                    minLength=\"2\" \r\n                    maxLength=\"200\" required/>\r\n                    <span className=\"form__input-error about-input-error\"></span>\r\n                </label>\r\n        </PopupWithForm>\r\n    )\r\n}","import { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup(props) {\r\n    const avatarRef = useRef('');\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n    \r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value,\r\n        });\r\n    }\r\n\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name=\"avatar\" \r\n            title=\"Обновить аватар\" \r\n            buttonText=\"Сохранить\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"form__label form__label_avatar\">\r\n                <input\r\n                ref={avatarRef} \r\n                className=\"form__input form__input_place_avatar\" \r\n                type=\"url\" name=\"avatar\" \r\n                id=\"avatar-input\" \r\n                placeholder=\"Ссылка на фотографию\" \r\n                required/>\r\n                <span className=\"form__input-error avatar-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n\r\n}","import React from 'react';\r\nimport { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function AddPlacePopup(props) {\r\n    const [title, setTitle] = useState('');\r\n    const [link, setLink] = useState('');\r\n\r\n    function handleAddPlaceSubmit(evt) {\r\n        evt.preventDefault();\r\n    \r\n        props.onAddCard({\r\n            name: title,\r\n            link: link,\r\n        });\r\n        setTitle('');\r\n        setLink('');\r\n    }\r\n\r\n    function handleAddTitle(evt) {\r\n        setTitle(evt.target.value);\r\n    }\r\n    \r\n    function handleAddLink(evt) {\r\n        setLink(evt.target.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name=\"card\" \r\n            title=\"Новое место\" \r\n            buttonText=\"Создать\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleAddPlaceSubmit}\r\n        >\r\n            <label className=\"form__label\">\r\n                    <input \r\n                    className=\"form__input form__input_place_name\" \r\n                    type=\"text\" \r\n                    name=\"title\" \r\n                    id=\"title-input\" \r\n                    placeholder=\"Название\" \r\n                    minLength=\"2\" \r\n                    maxLength=\"30\" required \r\n                    value={title}\r\n                    onChange={handleAddTitle}/>\r\n                    <span className=\"form__input-error title-input-error\"></span>\r\n                </label>\r\n                <label className=\"form__label\">\r\n                    <input className=\"form__input form__input_place_image\" \r\n                    type=\"url\" \r\n                    name=\"image\" \r\n                    id=\"image-input\" \r\n                    placeholder=\"Ссылка на картинку\" required\r\n                    value={link}\r\n                    onChange={handleAddLink}/>\r\n                    <span className=\"form__input-error image-input-error\"></span>\r\n                </label>\r\n        </PopupWithForm>\r\n    )\r\n}","import React, { useState,  useEffect  } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport { Route, Routes, useNavigate } from 'react-router-dom';\r\nimport Header  from \"./Header.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport Main from './Main.js';\r\nimport api  from '../utils/Api.js';\r\nimport Login from './Login.js';\r\nimport Register from './Register.js';\r\nimport InfoTooltip from './InfoTooltip.js';\r\nimport ProtectedRoute from './ProtectedRoute.js';\r\nimport auth from '../utils/Auth.js';\r\n\r\nimport ImagePopup  from './ImagePopup.js';\r\nimport DeleteCardPopup from './DeleteCardPopup.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js'\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\n\r\n\r\nexport default function App() {\r\n\r\n    //стейты popups\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n    const [isImagePopupOpen, setImagePopupOpen] = useState(false);\r\n    const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\r\n    const [isInfoTooltip, setIsInfoTooltip] = useState(false);\r\n\r\n    const [selectedCard, setSelectedCard] = useState({});\r\n    const [currentUser, setCurrentUser] = useState({});\r\n    const [cards, setCards] = useState([]);\r\n    const [currentEmail, setCurrentEmail] = useState('');\r\n\r\n    const [successRegister, setSuccessRegister] = useState(false);\r\n\r\n    // стейт маршрутов\r\n    const [currentRoute, setCurrentRoute] = useState('');\r\n\r\n    //стейт логина\r\n    const [loggedIn, setLoggedIn] = useState(false);\r\n\r\n    // запрос  данных пользователя\r\n    useEffect(() => {\r\n        api.getUserInfo()\r\n            .then((userInfo) => {\r\n                setCurrentUser(userInfo);\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }, []);\r\n\r\n    //запроса массива данных карточек\r\n    useEffect(() => {\r\n        api.getInitialCards()\r\n            .then((cardsInfo) => {\r\n                setCards(cardsInfo);\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }, []);\r\n    \r\n    // обработчики открытя всех popup\r\n    const handleEditAvatarClick = () => {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    const handleAddPlaceClick = () => {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n\r\n    const handleEditProfileClick = () => {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n\r\n    const handleDeleteCardClick = () => {\r\n        setIsDeleteCardPopupOpen(true);\r\n    }\r\n\r\n    const handleRegisterClick = () => {\r\n        setIsInfoTooltip(true);\r\n    }\r\n\r\n    const handleCardClick = (data) => {\r\n        setImagePopupOpen(true);\r\n        setSelectedCard(data);\r\n    }\r\n\r\n    // закрытие всех popup\r\n    const closeAllPopups = () => {\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsEditProfilePopupOpen(false);\r\n        setImagePopupOpen(false);\r\n        setIsDeleteCardPopupOpen(false);\r\n        setIsInfoTooltip(false);\r\n    }\r\n\r\n    //управление лайками\r\n    function handleCardLike(card) {\r\n        const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    \r\n        api.changeLikeCardStatus(card._id, !isLiked)\r\n            .then((newCard) => {\r\n                setCards((state) =>\r\n                state.map((c) => (c._id === card._id ? newCard : c))\r\n            );\r\n        })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\n    //удаление карты\r\n    function handleCardDelete(card) {\r\n        api.deleteCard(card._id)\r\n            .then(() => {\r\n            setCards((state) => \r\n            state.filter((c) => c._id !== card._id));\r\n            })\r\n            .catch((err) => {\r\n            console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\n    //смена данных пользователя\r\n    function handleUpdateUser(data) {\r\n        api.setUserInfo(data)\r\n            .then((userInfo) => {\r\n                setCurrentUser(userInfo);\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\n    //смена аватара\r\n    function handleUpdateAvatar(data) {\r\n        api.addAvatar(data)\r\n            .then((userAvatar) => {\r\n            setCurrentUser(userAvatar);\r\n            closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n    \r\n    //добавление новой карты\r\n    function handleAddCard(element) {\r\n        api.addCard(element)\r\n                .then((newCard) => {\r\n                    setCards([newCard, ...cards]);\r\n                    closeAllPopups();\r\n                })\r\n                .catch((err) => {\r\n                    console.log(`Внимание! ${err}`);\r\n                });\r\n    }\r\n    // обработчики закрытия\r\n    function handleClosePopup(evt) {\r\n        if (\r\n            evt.target.classList.contains('popup')\r\n            || evt.target.classList.contains('popup__close-icon')\r\n        ) {\r\n            closeAllPopups();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        function handleEscClose(evt) {\r\n            if (evt.keyCode === 27) closeAllPopups();\r\n        }\r\n    \r\n        document.addEventListener('keydown', handleEscClose);\r\n    \r\n        return () => document.removeEventListener('keydown', handleEscClose);\r\n    }, []);\r\n\r\n    // регистрация\r\n    function handleRegister({ registerData, setRegisterData }) {\r\n        auth.register(registerData)\r\n            .then(() => {\r\n                setIsInfoTooltip(true);\r\n                setSuccessRegister(true);\r\n    \r\n            setRegisterData({\r\n                email: '',\r\n                password: '',\r\n            });\r\n        })\r\n            .catch((err) => {\r\n                setSuccessRegister(false);\r\n                setIsInfoTooltip(true);\r\n    \r\n            \r\n            \r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\n    // авторизация\r\n    function handleAuthorize({ loginData, setLoginData }) {\r\n        auth.authorize(loginData)\r\n            .then((data) => {\r\n                if (data?.token) {\r\n                    localStorage.setItem('token', data.token);\r\n                    setCurrentEmail(loginData.email);\r\n                    setLoggedIn(true);\r\n    \r\n                    setLoginData({\r\n                        email: '',\r\n                        password: '',\r\n                    });\r\n                }\r\n            })\r\n            \r\n            .catch((err) => {\r\n                console.log(`Внимание! ${err}`);\r\n            });\r\n    }\r\n\r\n    //проверка токена\r\n    useEffect(() => {\r\n        function handleTokenCheck() {\r\n            if (localStorage.getItem('token')) {\r\n            const token = localStorage.getItem('token');\r\n    \r\n            auth.checkToken(token)\r\n                .then((data) => {\r\n                    if (data) {\r\n                        console.log(data)\r\n                        setCurrentEmail(data.data.email);\r\n                        setLoggedIn(true);\r\n                        /*history.push('/');*/\r\n                    }\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(`Внимание! ${err}`);\r\n                    });\r\n            }\r\n        }\r\n    \r\n        handleTokenCheck();\r\n    }, []);\r\n\r\nreturn (\r\n<div className=\"page\">\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n        <Header \r\n            currentRoute={currentRoute}\r\n            loggedIn={loggedIn}\r\n        />\r\n        <Routes>\r\n            <Route\r\n                path=\"/\"\r\n                exact\r\n                element={\r\n                    <ProtectedRoute loggedIn={loggedIn}>\r\n                        <Main\r\n                        onEditAvatar={handleEditAvatarClick}\r\n                        onAddPlace={handleAddPlaceClick}\r\n                        onEditProfile={handleEditProfileClick}\r\n                        onCardClick={handleCardClick}\r\n                        cards={cards}\r\n                        onCardLike={handleCardLike}\r\n                        onCardDelete={handleCardDelete}\r\n                        />\r\n                    </ProtectedRoute>    \r\n                }\r\n            />\r\n            <Route exact path=\"/sign-up\" element={\r\n                <Register\r\n                    setCurrentRoute={setCurrentRoute}\r\n                    onRegister={handleRegister}\r\n                    onInfoTooltip={handleRegisterClick}\r\n                    successRegister={successRegister}\r\n                    loggedIn={loggedIn}\r\n                />\r\n            } /> \r\n            <Route exact path=\"/sign-in\" element={\r\n                <Login \r\n                    setCurrentRoute={setCurrentRoute}\r\n                    onLogin={handleAuthorize}\r\n                    setSuccessRegister={setSuccessRegister}\r\n                    loggedIn={loggedIn}\r\n\r\n                />\r\n            } />\r\n        </Routes>\r\n        {loggedIn && <Footer />}       \r\n        <ImagePopup \r\n            data={selectedCard}\r\n            isOpen={isImagePopupOpen}\r\n            onClose={handleClosePopup}\r\n        />\r\n        <EditAvatarPopup \r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={handleClosePopup}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <EditProfilePopup \r\n            isOpen={isEditProfilePopupOpen} \r\n            onClose={handleClosePopup} \r\n            onUpdateUser={handleUpdateUser}\r\n            />\r\n        <AddPlacePopup \r\n            isOpen={isAddPlacePopupOpen} \r\n            onClose={closeAllPopups} \r\n            onAddCard={handleAddCard}\r\n            />     \r\n        <DeleteCardPopup\r\n            isOpen={isDeleteCardPopupOpen} \r\n            onClose={handleClosePopup} \r\n        />\r\n        <InfoTooltip\r\n            name=\"registration\"\r\n            isOpen={isInfoTooltip} \r\n            onClose={handleClosePopup}\r\n            registrationСompleted={successRegister} \r\n        />\r\n    </CurrentUserContext.Provider>\r\n</div>\r\n);\r\n}\r\n\r\n/*email: \"p.luyda@yandex.ru\"\r\n_id: \"619a262b96bdf2001aa94fc3\"\r\n\r\ntoken: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTlhMjYyYjk2YmRmMjAwMWFhOTRmYzMiLCJpYXQiOjE2Mzc1MTAwODV9.ya40SGyfWYnZAE2gUxlxXjmsJFSfUjpRAhd7_CBkO8c\"\r\n*/","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport  App   from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}